{"version":3,"sources":["components/jokes/JokeForm.module.css","components/layout/Header.module.css","components/comments/NewCommentForm.module.css","components/jokes/JokeList.module.css","components/UI/Loader.module.css","components/jokes/JokeItem.module.css","components/jokes/NoJokesFound.module.css","components/comments/Comments.module.css","components/comments/CommentItem.module.css","components/comments/CommentsList.module.css","components/jokes/HighlightedJoke.module.css","components/UI/Card.module.css","components/layout/Layout.module.css","components/UI/Loader.js","components/jokes/JokeItem.js","components/jokes/JokeList.js","hooks/use-http.js","utils/firebase-api.js","components/jokes/NoJokesFound.js","pages/Jokes.js","components/comments/NewCommentForm.js","components/comments/CommentItem.js","components/comments/CommentsList.js","components/comments/Comments.js","components/jokes/HighlightedJoke.js","pages/JokeDetails.js","components/UI/Card.js","components/jokes/JokeForm.js","pages/AddJoke.js","components/layout/Header.js","components/layout/Layout.js","pages/NotFound.js","App.js","index.js"],"names":["module","exports","Loader","className","styles","JokeItem","props","item","text","topic","to","id","JokeList","jokes","isAscending","history","useHistory","location","useLocation","isSortingAscending","URLSearchParams","search","get","sortedJokes","sort","joke1","joke2","onClick","push","list","map","joke","httpReducer","httpState","action","type","data","error","status","errorMessage","Error","useHttp","sendRequest","isRequestSending","initialHttpState","useReducer","dispatch","sendHttpRequest","useCallback","requestData","responseData","message","FIREBASE_ROOT_DOMAIN","getJokes","fetch","response","json","ok","key","convertedJokes","getJoke","jokeId","convertedJoke","addJoke","jokeData","method","body","JSON","stringify","headers","addComment","commentData","commentId","username","getComments","convertedComments","comment","NoJokesFound","Jokes","loadedJokes","useEffect","length","NewCommentForm","commentTextRef","useRef","onCommentAdded","submitFormHandler","event","preventDefault","enteredText","current","value","form","onSubmit","control","htmlFor","rows","ref","actions","CommentItem","CommentsList","comments","Comments","useState","isAddingComment","setIsAddingComment","params","useParams","loadedComments","commentAddedHandler","HighlightedJoke","JokeDetails","routeMatch","useRouteMatch","loadedJoke","path","exact","url","Card","card","children","JokeForm","isFormFocused","setIsFormFocused","topicInputRef","textInputRef","when","onFocus","enteredTopic","onAddJoke","isLoading","loading","AddJoke","Header","header","nav","activeClassName","active","Layout","main","NotFound","App","ReactDOM","createRoot","document","getElementById","render"],"mappings":"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","file":"static/js/main.af685058.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"JokeForm_form__2hrxu\",\"loading\":\"JokeForm_loading__37Ek7\",\"control\":\"JokeForm_control__1ZjJA\",\"actions\":\"JokeForm_actions__1YSQP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__16ZAN\",\"nav\":\"Header_nav__3gbnE\",\"active\":\"Header_active__1kDzw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"NewCommentForm_form__2X-nU\",\"loading\":\"NewCommentForm_loading__1exIp\",\"control\":\"NewCommentForm_control__3NU48\",\"actions\":\"NewCommentForm_actions__2WTTN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"JokeList_list__3y1UU\",\"sort\":\"JokeList_sort__1thlx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"lds-hourglass\":\"Loader_lds-hourglass__KU01E\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"JokeItem_item__NyhMO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"no-jokes\":\"NoJokesFound_no-jokes__1aoYl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"comments\":\"Comments_comments__1rG9Y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"CommentItem_item__kdKPZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"comments\":\"CommentsList_comments__1JFzw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"joke\":\"HighlightedJoke_joke__2vp7a\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__3ejXE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Layout_main__1_76E\"};","import styles from './Loader.module.css';\n\nconst Loader = () => {\n  return <div className={styles['lds-hourglass']}></div>;\n};\n\nexport default Loader;\n","import {Link} from 'react-router-dom'\nimport styles from './JokeItem.module.css';\n\nconst JokeItem = (props) => {\n  return (\n    <li className={styles.item}>\n      <figure>\n        <blockquote>\n          <p>{props.text}</p>\n        </blockquote>\n        <figcaption>{props.topic}</figcaption>\n      </figure>\n      <Link className='btn' to={`/jokes/${props.id}`}>Expand</Link>\n    </li>\n  );\n};\n\nexport default JokeItem;\n","import { Fragment } from 'react';\nimport {useHistory, useLocation} from 'react-router-dom'\n\nimport JokeItem from './JokeItem';\nimport styles from './JokeList.module.css';\n\nconst sortJokes = (jokes, isAscending) => {\n  return jokes.sort((joke1, joke2) => {\n    if (isAscending) {\n      return joke1.id > joke2.id ? 1 : -1\n    } else {\n      return joke1.id < joke2.id ? 1 : -1\n    }\n  })\n}\n\nconst JokeList = (props) => {\n  const history = useHistory()\n  const location = useLocation()\n  const queryParams = new URLSearchParams(location.search)\n  const sortingOrder = queryParams.get('sort')\n  const isSortingAscending = sortingOrder === 'asc'\n  const sortedJokes = sortJokes(props.jokes, isSortingAscending)\n  const toggleSortingHandler = () => {\n    history.push('/jokes?sort=' + (isSortingAscending ? 'desc' : 'asc'))\n  }\n\n  return (\n    <Fragment>\n      <div className={styles.sort}>\n        <button onClick={toggleSortingHandler}>Sort Jokes {isSortingAscending ? 'Descending' : 'Ascending'}</button>\n      </div>\n      <ul className={styles.list}>\n        {sortedJokes.map((joke) => (\n          <JokeItem\n            key={joke.id}\n            id={joke.id}\n            topic={joke.topic}\n            text={joke.text}\n          />\n        ))}\n      </ul>\n    </Fragment>\n  );\n};\n\nexport default JokeList;\n","import { useReducer, useCallback } from 'react';\n\nfunction httpReducer(httpState, action) {\n  switch (action.type) {\n    case 'send_request': {\n      return {\n        data: null,\n        error: null,\n        status: 'pending',\n      };\n    }\n    case 'success': {\n      return {\n        data: action.data,\n        error: null,\n        status: 'completed',\n      };\n    }\n    case 'error': {\n      return {\n        data: null,\n        error: action.errorMessage,\n        status: 'completed',\n      };\n    }\n    default: {\n      throw Error('Unknown action: ' + action.type);\n    }\n  }\n}\n\nfunction useHttp(sendRequest, isRequestSending = false) {\n  const initialHttpState = {\n    data: null,\n    error: null,\n    status: isRequestSending ? 'pending' : null,\n  };\n  const [httpState, dispatch] = useReducer(httpReducer, initialHttpState);\n\n  const sendHttpRequest = useCallback(\n    async function (requestData) {\n      dispatch({ type: 'send_request' });\n      try {\n        const responseData = await sendRequest(requestData);\n        dispatch({ type: 'success', data: responseData });\n      } catch (error) {\n        dispatch({\n          type: 'error',\n          errorMessage: error.message || 'Something went wrong!',\n        });\n      }\n    },\n    [sendRequest]\n  );\n\n  return {\n    sendHttpRequest,\n    ...httpState,\n  };\n}\n\nexport default useHttp;\n","const FIREBASE_ROOT_DOMAIN =\n  'https://jokes-2ecf7-default-rtdb.firebaseio.com';\n\nexport async function getJokes() {\n  const response = await fetch(`${FIREBASE_ROOT_DOMAIN}/jokes.json`);\n  const data = await response.json();\n\n  if (!response.ok) {\n    throw new Error(data.message || 'Jokes fetching error.');\n  }\n\n  const convertedJokes = [];\n\n  for (const key in data) {\n    const joke = {\n      id: key,\n      ...data[key],\n    };\n\n    convertedJokes.push(joke);\n  }\n\n  return convertedJokes;\n}\n\nexport async function getJoke(jokeId) {\n  const response = await fetch(`${FIREBASE_ROOT_DOMAIN}/jokes/${jokeId}.json`);\n  const data = await response.json();\n\n  if (!response.ok) {\n    throw new Error(data.message || 'Joke fetching error.');\n  }\n\n  const convertedJoke = {\n    id: jokeId,\n    ...data,\n  };\n\n  return convertedJoke;\n}\n\nexport async function addJoke(jokeData) {\n  const response = await fetch(`${FIREBASE_ROOT_DOMAIN}/jokes.json`, {\n    method: 'POST',\n    body: JSON.stringify(jokeData),\n    headers: {\n      'Content-Type': 'application/json',\n    },\n  });\n  const data = await response.json();\n\n  if (!response.ok) {\n    throw new Error(data.message || 'Joke adding error.');\n  }\n}\n\nexport async function addComment(requestData) {\n  const response = await fetch(\n    `${FIREBASE_ROOT_DOMAIN}/comments/${requestData.jokeId}.json`,\n    {\n      method: 'POST',\n      body: JSON.stringify(requestData.commentData),\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    }\n  );\n  const data = await response.json();\n\n  if (!response.ok) {\n    throw new Error(data.text || 'Comment adding error.');\n  }\n\n  return { commentId: data.username };\n}\n\nexport async function getComments(jokeId) {\n  const response = await fetch(\n    `${FIREBASE_ROOT_DOMAIN}/comments/${jokeId}.json`\n  );\n\n  const data = await response.json();\n\n  if (!response.ok) {\n    throw new Error(data.message || 'Comments fetching error.');\n  }\n\n  const convertedComments = [];\n\n  for (const key in data) {\n    const comment = {\n      id: key,\n      ...data[key],\n    };\n\n    convertedComments.push(comment);\n  }\n\n  return convertedComments;\n}\n","import styles from './NoJokesFound.module.css';\nimport {Link} from 'react-router-dom'\n\nconst NoJokesFound = () => {\n  return (\n    <div className={styles['no-jokes']}>\n      <p>No jokes found!</p>\n      <Link className='btn' to='/add-joke'>Add a Joke</Link>\n    </div>\n  );\n};\n\nexport default NoJokesFound;\n","import Loader from '../components/UI/Loader'\r\nimport JokeList from '../components/jokes/JokeList'\r\nimport useHttp from '../hooks/use-http'\r\nimport { getJokes } from '../utils/firebase-api'\r\nimport { useEffect } from 'react'\r\nimport NoJokesFound from '../components/jokes/NoJokesFound'\r\n\r\nconst Jokes = () => {\r\n    const {sendHttpRequest, status, data: loadedJokes, error} = useHttp(getJokes, true)\r\n\r\n    useEffect(() => {\r\n        sendHttpRequest()\r\n    }, [sendHttpRequest])\r\n\r\n    if (status === 'pending') {\r\n        return <div className='centered'> \r\n            <Loader />\r\n        </div>\r\n    }\r\n\r\n    if (error) {\r\n        return <p className='centered focused'>{error}</p>\r\n    }\r\n\r\n    if (status === 'completed' && (!loadedJokes || loadedJokes.length === 0)) {\r\n        return <NoJokesFound />\r\n    }\r\n    return <JokeList jokes={loadedJokes} />\r\n}\r\n\r\nexport default Jokes","import { useRef, useEffect } from 'react';\nimport useHttp from '../../hooks/use-http';\nimport { addComment } from '../../utils/firebase-api';\nimport styles from './NewCommentForm.module.css';\nimport Loader from '../UI/Loader';\n\nconst NewCommentForm = (props) => {\n  const commentTextRef = useRef();\n\n\n  const { sendHttpRequest, status, error } = useHttp(addComment)\n  const { onCommentAdded } = props\n  useEffect(() => {\n    if (status === 'completed' && !error) {\n      onCommentAdded()\n    }\n  }, [status, error, onCommentAdded])\n  const submitFormHandler = (event) => {\n    event.preventDefault();\n\n    const enteredText = commentTextRef.current.value\n\n    sendHttpRequest({ commentData: {text: enteredText}, jokeId: props.jokeId})\n  };\n\n  return (\n    <form className={styles.form} onSubmit={submitFormHandler}>\n      {status === 'pending' && <div className='centered'><Loader /></div>}\n      <div className={styles.control} onSubmit={submitFormHandler}>\n        <label htmlFor='comment'>Your Comment</label>\n        <textarea id='comment' rows='5' ref={commentTextRef}></textarea>\n      </div>\n      <div className={styles.actions}>\n        <button className='btn'>Add Comment</button>\n      </div>\n    </form>\n  );\n};\n\nexport default NewCommentForm;\n","import styles from './CommentItem.module.css';\n\nconst CommentItem = (props) => {\n  return (\n    <li className={styles.item}>\n      <p>{props.text}</p>\n    </li>\n  );\n};\n\nexport default CommentItem;\n","import CommentItem from './CommentItem';\nimport styles from './CommentsList.module.css';\n\nconst CommentsList = (props) => {\n  return (\n    <ul className={styles.comments}>\n      {props.comments.map((comment) => (\n        <CommentItem key={comment.id} text={comment.text} />\n      ))}\n    </ul>\n  );\n};\n\nexport default CommentsList;\n","import { useState, useEffect, useCallback } from 'react';\nimport { useParams } from 'react-router-dom';\nimport styles from './Comments.module.css';\nimport NewCommentForm from './NewCommentForm';\nimport useHttp from '../../hooks/use-http';\nimport { getComments } from '../../utils/firebase-api';\nimport Loader from '../UI/Loader';\nimport CommentsList from '../comments/CommentsList'\n\nconst Comments = () => {\n  const [isAddingComment, setIsAddingComment] = useState(false);\n  const params = useParams()\n\n  const {jokeId} = params\n\n\n  const { sendHttpRequest, status, data: loadedComments} = useHttp(getComments)\n  useEffect(() => {\n    sendHttpRequest(jokeId)\n  }, [jokeId, sendHttpRequest])\n\n  const startAddCommentHandler = () => {\n    setIsAddingComment(true);\n  };\n\n  const commentAddedHandler = useCallback(() => {\n    sendHttpRequest(jokeId)\n  }, [sendHttpRequest, jokeId])\n\n  let comments \n\n  if (status === 'pending') {\n    comments = <div className='centered'><Loader /></div>\n  } \n\n  if (status === 'completed' && (loadedComments && loadedComments.length > 0)) {\n    comments = <CommentsList comments={loadedComments}/>\n  }\n\n  if (status === 'completed' && (!loadedComments || loadedComments.length === 0)) {\n    comments = <p className='centered'>This joke doesn`t have comments yet</p>\n  }\n\n  return (\n    <section className={styles.comments}>\n      <h2>User Comments</h2>\n      {!isAddingComment && (\n        <button className='btn' onClick={startAddCommentHandler}>\n          Add a Comment\n        </button>\n      )}\n      {isAddingComment && <NewCommentForm jokeId={params.jokeId} onCommentAdded={commentAddedHandler} />}\n      {comments}\n    </section>\n  );\n};\n\nexport default Comments;\n","import styles from './HighlightedJoke.module.css';\n\nconst HighlightedJoke = (props) => {\n  return (\n    <figure className={styles.joke}>\n      <p>{props.text}</p>\n      <figcaption>{props.topic}</figcaption>\n    </figure>\n  );\n};\n\nexport default HighlightedJoke;\n","import { useParams, Route, Link, useRouteMatch } from 'react-router-dom'\r\nimport Comments from '../components/comments/Comments'\r\nimport HighlightedJoke from '../components/jokes/HighlightedJoke'\r\nimport { Fragment, useEffect } from 'react'\r\nimport useHttp from '../hooks/use-http'\r\nimport { getJoke } from '../utils/firebase-api'\r\nimport Loader from '../components/UI/Loader'\r\n\r\nconst JokeDetails = () => {\r\n    const routeMatch = useRouteMatch()\r\n    const params = useParams()\r\n    const {jokeId} = params\r\n    const {sendHttpRequest, status, data: loadedJoke, error} = useHttp(getJoke, true)\r\n    useEffect(() => {\r\n        sendHttpRequest(jokeId)\r\n    }, [sendHttpRequest, jokeId])\r\n    \r\n    if (status === 'pending') {\r\n        return <div className='centered'>\r\n            <Loader />\r\n        </div>\r\n    }\r\n\r\n    if (error) {\r\n        return <p className='centered'>{error}</p>\r\n    }\r\n\r\n    if (!loadedJoke.text) {\r\n        return <h1 className=\"centered\">Jokes not found</h1>\r\n    }\r\n\r\n    return (\r\n        <Fragment>\r\n            <HighlightedJoke text={loadedJoke.text} topic={loadedJoke.topic} />\r\n            <Route path={`${routeMatch.path}`} exact>\r\n            <div className='centered'>\r\n                <Link className='btn--empty' to={`${routeMatch.url}/comments`}>Show Comments </Link>\r\n            </div>\r\n            </Route>\r\n\r\n            <Route path={`${routeMatch.path}/comments`}>\r\n                <Comments />\r\n            </Route>\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default JokeDetails","import styles from './Card.module.css';\n\nconst Card = (props) => {\n  return <div className={styles.card}>{props.children}</div>;\n};\n\nexport default Card;\n","import { Fragment, useRef, useState } from 'react';\nimport {Prompt} from 'react-router-dom'\n\nimport Card from '../UI/Card';\nimport Loader from '../UI/Loader';\nimport styles from './JokeForm.module.css';\n\nconst JokeForm = (props) => {\n  const [isFormFocused, setIsFormFocused] = useState(false)\n  const topicInputRef = useRef();\n  const textInputRef = useRef();\n\n  function submitFormHandler(event) {\n    event.preventDefault();\n\n    const enteredTopic = topicInputRef.current.value;\n    const enteredText = textInputRef.current.value;\n\n    props.onAddJoke({ topic: enteredTopic, text: enteredText });\n  }\n\n  const formFocusHandler = () => {\n    setIsFormFocused(true)\n  }\n\n  const sendDataHandler = () => {\n    setIsFormFocused(false)\n  }\n\n  return (\n    <Fragment>\n      <Prompt when={isFormFocused} message={(location) => 'Do you want to leave?'}/>\n    <Card>\n      <form onFocus={formFocusHandler} className={styles.form} onSubmit={submitFormHandler}>\n        {props.isLoading && (\n          <div className={styles.loading}>\n            <Loader />\n          </div>\n        )}\n\n        <div className={styles.control}>\n          <label htmlFor='topic'>Topic</label>\n          <input type='text' id='topic' ref={topicInputRef} />\n        </div>\n        <div className={styles.control}>\n          <label htmlFor='text'>Text</label>\n          <textarea id='text' rows='5' ref={textInputRef}></textarea>\n        </div>\n        <div className={styles.actions}>\n          <button onClick={sendDataHandler} className='btn'>Add Joke</button>\n        </div>\n      </form>\n    </Card>\n    </Fragment>\n  );\n};\n\nexport default JokeForm;\n","import JokeForm from '../components/jokes/JokeForm'\r\nimport {useHistory} from 'react-router-dom'\r\nimport useHttp from '../hooks/use-http'\r\nimport { addJoke }  from '../utils/firebase-api'\r\nimport { useEffect } from 'react'\r\n\r\nconst AddJoke = () => {\r\n    const history = useHistory()\r\n    const {sendHttpRequest, status} = useHttp(addJoke)\r\n\r\n    useEffect(() => {\r\n        if (status === 'completed') {\r\n            history.push('/jokes')\r\n        }\r\n    }, [status, history])\r\n\r\n    const addJokeHandler = (jokeData) => {\r\n        sendHttpRequest(jokeData)\r\n    }\r\n\r\n    return (\r\n        <JokeForm isLoading={status==='pending'} onAddJoke={addJokeHandler}/>\r\n    )\r\n}\r\n\r\nexport default AddJoke","import styles from './Header.module.css';\nimport {NavLink} from 'react-router-dom'\n\nconst Header = () => {\n  return (\n    <header className={styles.header}>\n      <nav className={styles.nav}>\n        <ul>\n          <li>\n            <NavLink to='/jokes' activeClassName={styles.active}>Jokes</NavLink>\n          </li>\n          <li>\n            <NavLink to='/add-joke' activeClassName={styles.active}>Add a Joke</NavLink>\n          </li>\n        </ul>\n      </nav>\n    </header>\n  );\n};\n\nexport default Header;\n","import { Fragment } from 'react';\nimport Header from './Header';\nimport styles from './Layout.module.css';\n\nconst Layout = (props) => {\n  return (\n    <Fragment>\n      <Header />\n      <main className={styles.main}>{props.children}</main>\n    </Fragment>\n  );\n};\n\nexport default Layout;\n","const NotFound = () => {\r\n    return <section className=\"centered\">\r\n        <h1>Страница не найдена</h1>\r\n    </section>\r\n}\r\n\r\nexport default NotFound","import { Route, Switch, Redirect } from \"react-router-dom\";\nimport Jokes from \"./pages/Jokes\";\nimport JokeDetails from \"./pages/JokeDetails\";\nimport AddJoke from \"./pages/AddJoke\";\nimport Layout from \"./components/layout/Layout\";\nimport NotFound from \"./pages/NotFound\";\n\nfunction App() {\n  return (\n    <Layout>\n      <Switch>\n        <Route path=\"/\" exact>\n          <Redirect to=\"/jokes\" />\n        </Route>\n        <Route path=\"/jokes\" exact>\n          <Jokes />\n        </Route>\n        <Route path=\"/jokes/:jokeId\">\n          <JokeDetails />\n        </Route>\n        <Route path=\"/add-joke\">\n          <AddJoke />\n        </Route>\n        <Route path=\"*\">\n          <NotFound />\n        </Route>\n      </Switch>\n    </Layout>\n    )\n}\n\nexport default App;\n","import ReactDOM from 'react-dom/client';\nimport { BrowserRouter } from 'react-router-dom'\nimport './index.css';\nimport App from './App';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n    <BrowserRouter>\n        <App />\n    </BrowserRouter>\n);\n"],"sourceRoot":""}